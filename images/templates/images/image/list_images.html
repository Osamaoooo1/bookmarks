{% load thumbnail %}
{% for image in images %}
 <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
  <div class="card border-0 shadow-sm h-100">
   <a href="{{ image.get_absolute_url }}" class="text-decoration-none">
    {% thumbnail image.image 300x300 crop="smart" as im %}
     <img src="{{ im.url }}" class="card-img-top" alt="{{ image.title }}" style="height: 200px; object-fit: cover;">
   </a>
   <div class="card-body d-flex flex-column ">
    <h6 class="card-title mb-2">
     <a href="{{ image.get_absolute_url }}" class="text-decoration-none text-dark">
      {{ image.title|truncatechars:30 }}
     </a>
    </h6>
    <div class="mt-auto">
     <div class="d-flex align-items-center justify-content-between">
      <small class="text-muted">
       <i class="fas fa-heart text-danger me-1"></i>
       {{ image.total_likes }}
      </small>
      <small class="text-muted">
       <i class="fas fa-user me-1"></i>
       {{ image.user.first_name|default:image.user.username }}
      </small>
     </div>
    </div>
   </div>
  </div>
 </div>
{% empty %}
 <div class="col-12">
  <div class="alert alert-info mb-0 text-center">
   <i class="fas fa-images fa-2x mb-3 text-muted"></i>
   <h5>No images yet</h5>
   <p class="mb-0">Start by bookmarking your first image!</p>
  </div>
 </div>
{% endfor %}